columnmean <- function(y){
nc <- ncol(y)
means <- numeric(nc)
for(i in 1:nc){
means[i] <- mean(y[,i])
}
means
}
columnmeans(airquality)
columnmean(airquality)
columnmean <- function(y, removeNA = TRUE){
nc <- ncol(y)
means <- numeric(nc)
for(i in 1:nc){
means[i] <- mean(y[,i])
}
means
}
columnmean(airquality)
columnmean <- function(y, removeNA = TRUE){
nc <- ncol(y)
means <- numeric(nc)
for(i in 1:nc){
means[i] <- mean(y[,i], na.rm = removeNA)
}
means
}
columnmean(airquality)
?columnmean
columnmean()
formals(columnmean)
formals(ncol)
make.power <- function(n){
pow <- function(x){
x^n
}
pow
}
cube<-make.power(3)
cube
cube
2^2
clear()
clear
x <-NULL
cube<-make.power(3)
cube
cube(3)
ls(environment(cube))
as.Date("1970-1-1")
POSIXct(as.Date("1970-1-1"))
as.POSIXct(as.Date("1970-1-1"))
as.POSIXlt(as.Date("1970-1-1"))
x<-Sys.time()
p <- as.POSIXlt(x)
p$sec
p$min
x
p$qtr
?strptime()
strptime(x,%B)
format(Sys.time(), "%a %b %d %X %Y %Z")
x <- 1:10
if(x > 5) {
x <- 0
}
f <- function(x) {
g <- function(y) {
y + z
}
z <- 4
x + g(x)
}
f(3)
x <- 5
y <- if(x < 3) {
NA
} else {
10
}
y
ls
ls()
rm(list = ls())
ls()
con <- "/Users/wytworm/Desktop/R\ Programming\ Local/Week\ 2/specdata/"
con
source <- system.file(con, "001.csv")
source
con
?system.file()
?file.path
source <- file.path(con,"001.csv")
source
df <- readcsv(source)
df <- read.csv(source)
df
df <- read.csv(source, header = TRUE)
df
con <- "/Users/wytworm/Desktop/R\ Programming\ Local/Week\ 2/specdata/"
file_list <- list.files(con)
for (file in file_list){
# if the merged dataset doesn't exist, create it
if (!exists("dataset")){
dataset <- read.table(file, header=TRUE, sep="\t")
}
# if the merged dataset does exist, append to it
if (exists("dataset")){
temp_dataset <-read.table(file, header=TRUE, sep="\t")
dataset<-rbind(dataset, temp_dataset)
rm(temp_dataset)
}
}
for (file in file_list){
# if the merged dataset doesn't exist, create it
if (!exists("dataset")){
dataset <- read.table(file, header=TRUE)
}
# if the merged dataset does exist, append to it
if (exists("dataset")){
temp_dataset <-read.table(file, header=TRUE)
dataset<-rbind(dataset, temp_dataset)
rm(temp_dataset)
}
}
con <- "/Users/wytworm/Desktop/R\ Programming\ Local/Week\ 2/specdata/"
setwd(con)
file_list <- list.files()
source <- file.path(con,"001.csv")
pwd
ls()
list.files()
for (file in file_list){
# if the merged dataset doesn't exist, create it
if (!exists("dataset")){
dataset <- read.table(file, header=TRUE)
}
# if the merged dataset does exist, append to it
if (exists("dataset")){
temp_dataset <-read.table(file, header=TRUE)
dataset<-rbind(dataset, temp_dataset)
rm(temp_dataset)
}
}
dataset
dataset = NULL
for (file in file_list){
# if the merged dataset doesn't exist, create it
if (!exists("dataset")){
dataset <- read.table(file, header=TRUE, sep = ',')
}
# if the merged dataset does exist, append to it
if (exists("dataset")){
temp_dataset <-read.table(file, header=TRUE, sep = ',')
dataset<-rbind(dataset, temp_dataset)
rm(temp_dataset)
}
}
dataset
comp <- completecases(dataset)
comp <- complete.cases(dataset)
dataset = NULL
for (file in file_list){
# if the merged dataset doesn't exist, create it
if (!exists("dataset")){
dataset <- read.table(file, header=TRUE, sep = ',')
}
# if the merged dataset does exist, append to it
if (exists("dataset")){
temp_dataset <-read.table(file, header=TRUE, sep = ',')
dataset<-rbind(dataset, temp_dataset)
rm(temp_dataset)
}
}
x.sub <- subset(dataset, "ID" = 7)
x.sub <- subset(dataset, "ID"= = 7)
x.sub <- subset(dataset, "ID"== 7)
names(dataset)
x.sub <- subset(dataset, ID = 7)
x.sub = NULL
x.sub <- subset(dataset, ID = 7)
x.sub <- subset(dataset, ID < 7)
x.sub <- subset(dataset, ID > 7)
x.sub <- subset(dataset, ID == 7)
x.sub <- subset(dataset, ID == 23)
nit <- x.sub(nitrate)
nit.sub <- subset(x.sub,nitrate)
nit.sub <- x.sub[,3]
nit.sub <- x.sub[!is.na(x.sub[,nitrate]),]
nit.sub <- x.sub[!is.na(x.sub[,4]),]
nit.sub <- x.sub[,3]
nit.sub <- x.sub[!is.na(x.sub[,3]),]
nit.sub <- x.sub[,3]
nit.sub <- nit.sub[!is.na]
nit.sub <- nit.sub[!is.na(nit.sub)]
mean <- mean(nit.sub)
mean <- round(mean(nit.sub), 2)
mean <- round(mean(nit.sub), 3)
mean <- round(mean(nit.sub), 3)
?function()
x2.sub <- dataset[, ID == 23]
x2.sub <- dataset[, 4 == 23]
View(`x2.sub`)
x2.sub <- dataset[4 == 23,]
x2.sub <- dataset[, 4 == 23]
x2.sub <- subset(dataset, select = 1:3)
x2.sub <- subset(dataset, select = 2)
x2.sub <- subset(dataset, 4==23, select = 2)
x2.sub <- subset(dataset, ID==23, select = 2)
x2.sub <- subset(dataset, ID==c(1,2), select = 2)
x2.sub <- subset(dataset, ID==1:10, select = 2)
x2.sub <- dataset[ID==23,]
x2.sub <- dataset[dataset$ID==23,]
x2.sub <- dataset[dataset$ID %in% 1:4,]
x2.sub <- dataset[dataset$ID %in% 1:10,]
xrange.sub <- dataset[dataset$ID %in% 1:10,]
xrangesulf.sub <- xrange.sub[xrange.sub$sulfate]
xrangesulf.sub <- xrange.sub[,xrange.sub$sulfate]
xrangesulf.sub <- xrange.sub$sulfate
xrangesulf.sub
xrangesulf.sub <- !is.na(xrange.sub$sulfate)
xrangesulf.sub
xrangesulf.sub <- xrange.sub(!is.na(xrange.sub$sulfate))
xrangesulf.sub <- xrange.sub[!is.na(xrange.sub$sulfate)]
xrangesulf.sub <- xrange.sub[!is.na(xrange.sub)]
xrangesulf.sub <- xrange.sub[!is.na(xrange.sub$sulfate)]
xrangesulf.sub <- xrange.sub$sulfate
xrangesulf.sub <- !is.na(xrange.sub$sulfate)
xrangesulf.sub <- xrange.sub$sulfate
xrangesulf.sub <- !is.na(xrangesulf.sub$sulfate)
xrangesulf.sub <- !is.na(xrangesulf)
xrangesulf.sub <- !is.na(xrangesulf.sub)
e <- d[!is.na(d)]
xrangesulf.sub <- xrange.sub$sulfate
e <- xrange.sub[!is.na(xrange.sub)]
e <- xrange.sub[!is.na(xrangesulf.sub)]
x[complete.cases(x[1:4]),]
e <- xrange.sub[complete.cases(xrange.sub[2])]
e <- xrange.sub[complete.cases(xrange.sub[2]),]
mean.range <= mean(e[2])
xrange.mean <- mean(e[2])
?mean
xrm <= mean(e$sulfate)
xrm <- mean(e$sulfate)
xrm <- round(mean(e$sulfate),3)
x.sub <=dataset$ID = 23
x.sub <- dataset$ID = 23
x.sub =NULL
x.sub <- dataset$ID = 23
x.sub <- dataset$ID == 23
x.sub =NULL
x.sub <- dataset[,ID=23]
x.sub <- dataset[dataset$y=23,]
x.sub <- dataset[,dataset$y=23]
x.sub <- dataset[dataset$y==23,]
x.sub <- dataset[,dataset$y==23]
View(x.sub)
x.sub <- dataset[dataset$y==23]
x.sub <- dataset[dataset$y==23,]
x.sub <- dataset[dataset$ID==23,]
x.sub <- dataset[dataset$ID %in% 1:10,]
x.sub <- dataset[dataset$ID %in% 2:10,]
x.sub <- dataset[dataset$ID %in% 1:10,]
x.sub <- dataset[dataset$ID == 1:10,]
pm <- function(dir,polutant,id = 1:332){
setwd(con)
dataset = NULL
##Build dataset
##Loop through more than one file and append one to the other in a 'dataset'
for (file in file_list){
# if the merged dataset doesn't exist, create it
if (!exists("dataset")){
dataset <- read.table(file, header=TRUE, sep = ',')
}
# if the merged dataset does exist, append to it
if (exists("dataset")){
temp_dataset <-read.table(file, header=TRUE, sep = ',')
dataset<-rbind(dataset, temp_dataset)
rm(temp_dataset)
}
}
## Pullign data for a range of files as indicated by id
xrange.sub <- dataset[dataset$ID %in% id,]
##scrub NAs for polutant
xpolutant.sub <- xrange.sub[complete.cases(xrange.sub[2]),]
##calc the mean
xrm <- round(mean(xpolutant.sub$sulfate),3)
xrm
}
pm(23)
xrange.sub$sulfate
pm <- function(dir,polutant,id = 1:332){
setwd(dir)
dataset = NULL
##Build dataset
##Loop through more than one file and append one to the other in a 'dataset'
for (file in file_list){
# if the merged dataset doesn't exist, create it
if (!exists("dataset")){
dataset <- read.table(file, header=TRUE, sep = ',')
}
# if the merged dataset does exist, append to it
if (exists("dataset")){
temp_dataset <-read.table(file, header=TRUE, sep = ',')
dataset<-rbind(dataset, temp_dataset)
rm(temp_dataset)
}
}
## Pullign data for a range of files as indicated by id
xrange.sub <- dataset[dataset$ID %in% id,]
## Store the column number for the passed in pllutant
if(pollutant = "sulfate"){
col <- 2
else
col <-3
}
##scrub NAs for polutant
xpolutant.sub <- xrange.sub[complete.cases(xrange.sub[col]),]
##calc the mean
xrm <- round(mean(xpolutant.sub$sulfate),3)
xrm
}
pm <- function(dir,polutant,id = 1:332){
setwd(dir)
dataset = NULL
##Build dataset
##Loop through more than one file and append one to the other in a 'dataset'
for (file in file_list){
# if the merged dataset doesn't exist, create it
if (!exists("dataset")){
dataset <- read.table(file, header=TRUE, sep = ',')
}
# if the merged dataset does exist, append to it
if (exists("dataset")){
temp_dataset <-read.table(file, header=TRUE, sep = ',')
dataset<-rbind(dataset, temp_dataset)
rm(temp_dataset)
}
}
## Pullign data for a range of files as indicated by id
xrange.sub <- dataset[dataset$ID %in% id,]
## Store the column number for the passed in pllutant
if(pollutant == "sulfate"){
col <- 2
else
col <-3
}
##scrub NAs for polutant
xpolutant.sub <- xrange.sub[complete.cases(xrange.sub[col]),]
##calc the mean
xrm <- round(mean(xpolutant.sub$sulfate),3)
xrm
}
?if()
pm <- function(dir,polutant,id = 1:332){
setwd(dir)
dataset = NULL
##Build dataset
##Loop through more than one file and append one to the other in a 'dataset'
for (file in file_list){
# if the merged dataset doesn't exist, create it
if (!exists("dataset")){
dataset <- read.table(file, header=TRUE, sep = ',')
}
# if the merged dataset does exist, append to it
if (exists("dataset")){
temp_dataset <-read.table(file, header=TRUE, sep = ',')
dataset<-rbind(dataset, temp_dataset)
rm(temp_dataset)
}
}
## Pullign data for a range of files as indicated by id
xrange.sub <- dataset[dataset$ID %in% id,]
## Store the column number for the passed in pllutant
if(pollutant == "sulfate"){
col <- 2}
else
col <-3
##scrub NAs for polutant
xpolutant.sub <- xrange.sub[complete.cases(xrange.sub[col]),]
##calc the mean
xrm <- round(mean(xpolutant.sub$sulfate),3)
xrm
}
pm(con,"sulfate", 23)
pm <- function(dir,pollutant,id = 1:332){
setwd(dir)
dataset = NULL
##Build dataset
##Loop through more than one file and append one to the other in a 'dataset'
for (file in file_list){
# if the merged dataset doesn't exist, create it
if (!exists("dataset")){
dataset <- read.table(file, header=TRUE, sep = ',')
}
# if the merged dataset does exist, append to it
if (exists("dataset")){
temp_dataset <-read.table(file, header=TRUE, sep = ',')
dataset<-rbind(dataset, temp_dataset)
rm(temp_dataset)
}
}
## Pullign data for a range of files as indicated by id
xrange.sub <- dataset[dataset$ID %in% id,]
## Store the column number for the passed in pllutant
if(pollutant == "sulfate"){
col <- 2}
else
col <-3
##scrub NAs for polutant
xpollutant.sub <- xrange.sub[complete.cases(xrange.sub[col]),]
##calc the mean
xrm <- round(mean(xpollutant.sub$sulfate),3)
xrm
}
pm(con,"sulfate", 23)
pm(con,"nitrate", 23)
xpol <- xrange.sub[col]
pm <- function(dir,pollutant,id = 1:332){
setwd(dir)
dataset = NULL
##Build dataset
##Loop through more than one file and append one to the other in a 'dataset'
for (file in file_list){
# if the merged dataset doesn't exist, create it
if (!exists("dataset")){
dataset <- read.table(file, header=TRUE, sep = ',')
}
# if the merged dataset does exist, append to it
if (exists("dataset")){
temp_dataset <-read.table(file, header=TRUE, sep = ',')
dataset<-rbind(dataset, temp_dataset)
rm(temp_dataset)
}
}
## Pullign data for a range of files as indicated by id
xrange.sub <- dataset[dataset$ID %in% id,]
## Store the column number for the passed in pllutant
if(pollutant == "sulfate"){
col <- 2}
else
col <-3
## return a one element vector for the pollutant
xpol <- xrange.sub[col]
##scrub NAs for polutant
xpollutant.sub <- xrange.sub[complete.cases(xpol),]
##calc the mean
xrm <- round(mean(xpollutant.sub$sulfate),3)
xrm
}
pm(con,"nitrate", 23)
xpollutant.sub <- xrange.sub[complete.cases(xpol),]
xpollutant.sub <- xrange.sub[complete.cases(col),]
xpol <- xrange.sub[col]
xpol.sub <-complete.cases(xpol)
xrange.sub <- dataset[dataset$ID %in% 23,]
View(xpol)
xpol <- xrange.sub[col]
xpollutant.sub <- xrange.sub[complete.cases(col),]
xpollutant.sub <- xrange.sub[complete.cases(xrange.sub[col]),]
round(mean(xpollutant.sub$sulfate),3)
xpol.sub <- xpol.sub[complete.cases(xpol.sub[col])]
xrange.sub <- dataset[dataset$ID %in% 23,]
xpol.sub <- xpol.sub[complete.cases(xpol.sub[col])]
xpol <- xrange.sub[col]
xpol <- xpol(complete.cases(xpol))
xpol <- xpol[complete.cases(xpol)]
x[complete.cases(x[1:4]),]
xpol <- xpol[complete.cases(xpol)]
xpol <- xpol[complete.cases()]
xpol <- complete.cases()
xpol <- xpol(complete.cases(),)
xpol <- xpol[complete.cases(),]
xpol <- xpol[complete.cases(xpol),]
round(mean(xpol),3)
pm <- function(dir,pollutant,id = 1:332){
setwd(dir)
dataset = NULL
##Build dataset
##Loop through more than one file and append one to the other in a 'dataset'
for (file in file_list){
# if the merged dataset doesn't exist, create it
if (!exists("dataset")){
dataset <- read.table(file, header=TRUE, sep = ',')
}
# if the merged dataset does exist, append to it
if (exists("dataset")){
temp_dataset <-read.table(file, header=TRUE, sep = ',')
dataset<-rbind(dataset, temp_dataset)
rm(temp_dataset)
}
}
## Pullign data for a range of files as indicated by id
xrange.sub <- dataset[dataset$ID %in% id,]
## Store the column number for the passed in pllutant
if(pollutant == "sulfate"){
col <- 2}
else
col <-3
## return a one element vector for the pollutant
xpol <- xrange.sub[col]
##Scrub NAs
xpol.sub <- xpol[complete.cases(xpol),]
##scrub NAs for polutant
## Not working: xpollutant.sub <- xrange.sub[complete.cases(col),]
##calc the mean
xrm <- round(mean(xpol.sub),3)
xrm
}
pm(con,"nitrate", 23)
pm(con,"nitrate", 70:72)
pm(con,"sulfate", 1:10)
